!function(){"use strict";function t(t,o){t.state("todos",{url:"/todos",templateUrl:"components/todo-list.html",controller:"TodoListController",controllerAs:"tlCntl",resolve:{todos:["TodoService",function(t){return t.getList()}]}}).state("todos.create",{url:"/create",templateUrl:"components/todo-editor.html",controller:"TodoEditorController",controllerAs:"teCntl",resolve:{todo:function(){return{$id:null,text:"",dueDate:null,creationDate:null,completed:!1}}}}).state("todos.edit",{url:"/:id/edit",templateUrl:"components/todo-editor.html",controller:"TodoEditorController",controllerAs:"teCntl",resolve:{todo:["TodoService","$stateParams",function(t,o){return t.getOne(o.id)}]}}),o.otherwise("/todos")}t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("todoApp",["ui.router","todoApp.components","todoApp.services"]).config(t)}(),function(){"use strict";angular.module("todoApp.components",["ui.bootstrap"])}(),function(){"use strict";function t(t){t.setKeyPrefix("rhTodo")}t.$inject=["$localStorageProvider"],angular.module("todoApp.services",["ngStorage"]).config(t)}(),function(){"use strict";function t(t,o,e){var n=t;this.todo=angular.copy(t),this.isNew=null===t.$id,this.saveTodo=function(){this.isNew?(this.todo.creationDate=new Date,o.create(this.todo)):angular.extend(n,this.todo),e.go("todos")},this.cancel=function(){e.go("todos")},this.remove=function(){this.isNew||o.remove(this.todo),e.go("todos")},this.openDatePicker=function(){this.datePickerOpen=!0}}t.$inject=["todo","TodoService","$state"],angular.module("todoApp.components").controller("TodoEditorController",t)}(),function(){"use strict";function t(t,o,e,n,r){const i=this;this.todos=t,this.showCompleted=!1,this.clearTodos=function(){r.clear(),o.go("todos")},this.editTodo=function(t){o.go("todos.edit",{id:t.$id})},this.filterTodo=function(t){return i.showCompleted||!t.completed},this.isOverdue=function(t){if(t.dueDate){var o=new Date,e=new Date(t.dueDate);return o>e}return!1}}function o(){return function(t,o){var e=[];return angular.forEach(t,function(t){!o&&t.completed||e.push(t)}),e}}t.$inject=["todos","$state","$scope","$filter","TodoService"],angular.module("todoApp.components").controller("TodoListController",t).filter("todoListFilter",o)}(),function(){"use strict";function t(t){return new o(t)}function o(t){this.storage=t}t.$inject=["$localStorage"],angular.module("todoApp.services").factory("StorageService",t),o.prototype.get=function(t){return this.storage[t]},o.prototype.save=function(t,o){this.storage[t]=o},o.prototype.remove=function(t){delete this.storage[t]},o.prototype.clear=function(){this.storage.$reset()}}(),function(){"use strict";function t(t){return new o(t)}function o(t){this.$storage=t,this.$getAll()||this.$init()}t.$inject=["StorageService"],angular.module("todoApp.services").factory("TodoService",t),o.prototype.create=function(t){var o=this.$getAll(),e=o.push(t);t.$id=e-1},o.prototype.getList=function(){return this.$getAll()},o.prototype.getOne=function(t){return this.$getAll()[t]},o.prototype.remove=function(t){var o=t.$id,e=this.$getAll(),n=e.splice(o,1);n[0].$id=null;for(var r=o;r<e.length;r++)e[r].$id--,console.log("decremented todo id: "+e[r].$id)},o.prototype.clear=function(){this.$getAll().length=0},o.prototype.$getAll=function(){return this.$storage.get("todos")},o.prototype.$init=function(){this.$storage.save("todos",[])}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbXBvbmVudHMvX21vZHVsZS5qcyIsInNlcnZpY2VzL19tb2R1bGUuanMiLCJjb21wb25lbnRzL3RvZG8tZWRpdG9yLmpzIiwiY29tcG9uZW50cy90b2RvLWxpc3QuanMiLCJzZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy90b2RvLnNlcnZpY2UuanMiXSwibmFtZXMiOlsicm91dGVDb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwicmVzb2x2ZSIsInRvZG9zIiwiVG9kb1NlcnZpY2UiLCJnZXRMaXN0IiwidG9kbyIsIiRpZCIsInRleHQiLCJkdWVEYXRlIiwiY3JlYXRpb25EYXRlIiwiY29tcGxldGVkIiwiJHN0YXRlUGFyYW1zIiwiZ2V0T25lIiwiaWQiLCJvdGhlcndpc2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwibmdTdG9yYWdlQ29uZmlnIiwiJGxvY2FsU3RvcmFnZVByb3ZpZGVyIiwic2V0S2V5UHJlZml4IiwidG9kb0VkaXRvckNvbnRyb2xsZXIiLCIkc3RhdGUiLCJvcmlnIiwidGhpcyIsImNvcHkiLCJpc05ldyIsInNhdmVUb2RvIiwiRGF0ZSIsImNyZWF0ZSIsImV4dGVuZCIsImdvIiwiY2FuY2VsIiwicmVtb3ZlIiwib3BlbkRhdGVQaWNrZXIiLCJkYXRlUGlja2VyT3BlbiIsInRvZG9MaXN0Q29udHJvbGxlciIsIiRzY29wZSIsIiRmaWx0ZXIiLCJjbnRsIiwic2hvd0NvbXBsZXRlZCIsImNsZWFyVG9kb3MiLCJjbGVhciIsImVkaXRUb2RvIiwiZmlsdGVyVG9kbyIsImlzT3ZlcmR1ZSIsIm5vdyIsInRvZG9MaXN0RmlsdGVyIiwiZmlsdGVyZWQiLCJmb3JFYWNoIiwicHVzaCIsImZpbHRlciIsInN0b3JhZ2VTZXJ2aWNlRmFjdG9yeSIsIiRsb2NhbFN0b3JhZ2UiLCJTdG9yYWdlU2VydmljZSIsInN0b3JhZ2UiLCJmYWN0b3J5IiwicHJvdG90eXBlIiwiZ2V0Iiwia2V5Iiwic2F2ZSIsInZhbHVlIiwiJHJlc2V0IiwidG9kb1NlcnZpY2VGYWN0b3J5IiwiJHN0b3JhZ2UiLCIkZ2V0QWxsIiwiJGluaXQiLCJhbGxUb2RvcyIsIm5ld0xlbmd0aCIsImluZGV4IiwiZGVsZXRlZCIsInNwbGljZSIsImkiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQ0FBRSxXQUNGLFlBUUEsU0FBQUEsR0FBQUMsRUFBQUMsR0FFQUQsRUFDQUUsTUFBQSxTQUhBQyxJQUFBLFNBS0FDLFlBQUEsNEJBQ0FDLFdBQUEscUJBQ0FDLGFBQUEsU0FDQUMsU0FDQUMsT0FBQSxjQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUMsZUFJQVIsTUFBQSxnQkFDQUMsSUFBQSxVQUNBQyxZQUFBLDhCQUNBQyxXQUFBLHVCQUNBQyxhQUFBLFNBQ0FDLFNBQ0FJLEtBQUEsV0FDQSxPQUNBQyxJQUFBLEtBQ0FDLEtBQUEsR0FDQUMsUUFBQSxLQUNBQyxhQUFBLEtBQ0FDLFdBQUEsT0FLQWQsTUFBQSxjQUNBQyxJQUFBLFlBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsdUJBQ0FDLGFBQUEsU0FDQUMsU0FDQUksTUFBQSxjQUFBLGVBQUEsU0FBQUYsRUFBQVEsR0FDQSxNQUFBUixHQUFBUyxPQUFBRCxFQUFBRSxTQUtBbEIsRUFBQW1CLFVBQUEsNERBcERBQyxRQUFBQyxPQUFBLFdBSUEsWUFBQSxxQkFBQSxxQkFFQUMsT0FBQXhCLE1Bc0RFLFdBQUYsWUN6REFzQixTQUFBQyxPQUFBLHNCQUFBLG9CRGtFRSxXQUFGLFlFL0RBLFNBQUFFLEdBQUFDLEdBRUFBLEVBQUFDLGFBQUEsOENBTEFMLFFBQUFDLE9BQUEsb0JBQUEsY0FDQUMsT0FBQUMsTUZnRkUsV0FDRixZR2hGQSxTQUFBRyxHQUFBaEIsRUFBQUYsRUFBQW1CLEdBTUEsR0FBQUMsR0FBQWxCLENBQ0FtQixNQUFBbkIsS0FB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QWhFLElBQUEsSUFHQSxLQUFBLEdBQUFrRSxHQUFBSCxFQUFBRyxFQUFBTCxFQUFBTSxPQUFBRCxJQUNBTCxFQUFBSyxHQUFBbEUsTUFDQW9FLFFBQUFDLElBQUEsd0JBQUFSLEVBQUFLLEdBQUFsRSxNQUlBSCxFQUFBc0QsVUFBQWYsTUFBQSxXQUNBbEIsS0FBQXlDLFVBQUFRLE9BQUEsR0FLQXRFLEVBQUFzRCxVQUFBUSxRQUFBLFdBQ0EsTUFBQXpDLE1BQUF3QyxTQUFBTixJQUFBLFVBR0F2RCxFQUFBc0QsVUFBQVMsTUFBQSxXQUNBMUMsS0FBQXdDLFNBQUFKLEtBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbigpIHtcblwidXNlIHN0cmljdFwiO1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIGRlZmluZSB0aGUgbWFpbiB0b2RvQXBwIG1vZHVsZVxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAnLCBbXG4gICd1aS5yb3V0ZXInLCAndG9kb0FwcC5jb21wb25lbnRzJywgJ3RvZG9BcHAuc2VydmljZXMnXG5dKVxuLmNvbmZpZyhyb3V0ZUNvbmZpZyk7XG5cbi8vIHNldCB1cCByb3V0ZXMgZm9yIHRoZSB0b2RvQXBwIG1vZHVsZVxuZnVuY3Rpb24gcm91dGVDb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCd0b2RvcycsIHtcbiAgICAgIHVybDogJy90b2RvcycsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdG9kby1saXN0Lmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ1RvZG9MaXN0Q29udHJvbGxlcicsXG4gICAgICBjb250cm9sbGVyQXM6ICd0bENudGwnLFxuICAgICAgcmVzb2x2ZToge1xuICAgICAgICB0b2RvczogZnVuY3Rpb24oVG9kb1NlcnZpY2UpIHtcbiAgICAgICAgICByZXR1cm4gVG9kb1NlcnZpY2UuZ2V0TGlzdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3RvZG9zLmNyZWF0ZScsIHtcbiAgICAgIHVybDogJy9jcmVhdGUnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RvZG8tZWRpdG9yLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ1RvZG9FZGl0b3JDb250cm9sbGVyJyxcbiAgICAgIGNvbnRyb2xsZXJBczogJ3RlQ250bCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHRvZG86IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkaWQ6IG51bGwsXG4gICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIGR1ZURhdGU6IG51bGwsXG4gICAgICAgICAgICBjcmVhdGlvbkRhdGU6IG51bGwsXG4gICAgICAgICAgICBjb21wbGV0ZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3RvZG9zLmVkaXQnLCB7XG4gICAgICB1cmw6ICcvOmlkL2VkaXQnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3RvZG8tZWRpdG9yLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogJ1RvZG9FZGl0b3JDb250cm9sbGVyJyxcbiAgICAgIGNvbnRyb2xsZXJBczogJ3RlQ250bCcsXG4gICAgICByZXNvbHZlOiB7XG4gICAgICAgIHRvZG86IGZ1bmN0aW9uKFRvZG9TZXJ2aWNlLCAkc3RhdGVQYXJhbXMpIHtcbiAgICAgICAgICByZXR1cm4gVG9kb1NlcnZpY2UuZ2V0T25lKCRzdGF0ZVBhcmFtcy5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvdG9kb3MnKTtcblxufVxufSgpKTtcblxuOyhmdW5jdGlvbigpIHtcblwidXNlIHN0cmljdFwiO1xuXG4ndXNlIHN0cmljdCc7XG5cbi8vIGRlZmluZSB0aGUgY29tcG9uZW50cyBtb2R1bGVcbmFuZ3VsYXIubW9kdWxlKCd0b2RvQXBwLmNvbXBvbmVudHMnLCBbJ3VpLmJvb3RzdHJhcCddKTtcbn0oKSk7XG5cbjsoZnVuY3Rpb24oKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBkZWZpbmUgdGhlIHNlcnZpY2VzIG1vZHVsZVxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuc2VydmljZXMnLCBbJ25nU3RvcmFnZSddKVxuICAuY29uZmlnKG5nU3RvcmFnZUNvbmZpZyk7XG5cbmZ1bmN0aW9uIG5nU3RvcmFnZUNvbmZpZygkbG9jYWxTdG9yYWdlUHJvdmlkZXIpIHtcbiAgLy8gY29uZmlndXJlIGxvY2FsU3RvcmFnZSB0byB1c2UgYSBwcmVmaXggZm9yIHRoaXMgYXBwXG4gICRsb2NhbFN0b3JhZ2VQcm92aWRlci5zZXRLZXlQcmVmaXgoJ3JoVG9kbycpO1xufVxufSgpKTtcblxuOyhmdW5jdGlvbigpIHtcblwidXNlIHN0cmljdFwiO1xuXG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd0b2RvQXBwLmNvbXBvbmVudHMnKVxuICAuY29udHJvbGxlcignVG9kb0VkaXRvckNvbnRyb2xsZXInLCB0b2RvRWRpdG9yQ29udHJvbGxlcik7XG5cbmZ1bmN0aW9uIHRvZG9FZGl0b3JDb250cm9sbGVyKHRvZG8sIFRvZG9TZXJ2aWNlLCAkc3RhdGUpIHtcblxuICBjb25zdCBjbnRsID0gdGhpcztcblxuICAvLyBoYW5nIG9udG8gdGhlIG9yaWdpbmFsIGFuZCBiaW5kIGEgY29weSB0byBzY29wZVxuICAvLyBzbyB0aGF0IHdlIGNhbiByb2xsIGJhY2sgY2hhbmdlcyB3aGVuIGVkaXRpbmdcbiAgdmFyIG9yaWcgPSB0b2RvO1xuICB0aGlzLnRvZG8gPSBhbmd1bGFyLmNvcHkodG9kbyk7IFxuICB0aGlzLmlzTmV3ID0gKHRvZG8uJGlkID09PSBudWxsKTtcblxuICB0aGlzLnNhdmVUb2RvID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNOZXcpIHtcbiAgICAgIHRoaXMudG9kby5jcmVhdGlvbkRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgVG9kb1NlcnZpY2UuY3JlYXRlKHRoaXMudG9kbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKG9yaWcsIHRoaXMudG9kbyk7XG4gICAgfVxuXG4gICAgJHN0YXRlLmdvKCd0b2RvcycpO1xuICB9O1xuXG4gIHRoaXMuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgJHN0YXRlLmdvKCd0b2RvcycpO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzTmV3KSB7XG4gICAgICBUb2RvU2VydmljZS5yZW1vdmUodGhpcy50b2RvKTtcbiAgICB9XG4gICAgJHN0YXRlLmdvKCd0b2RvcycpO1xuICB9O1xuXG4gIHRoaXMub3BlbkRhdGVQaWNrZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRhdGVQaWNrZXJPcGVuID0gdHJ1ZTtcbiAgfTtcbiAgXG5cbn1cbn0oKSk7XG5cbjsoZnVuY3Rpb24oKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndG9kb0FwcC5jb21wb25lbnRzJylcbiAgLmNvbnRyb2xsZXIoJ1RvZG9MaXN0Q29udHJvbGxlcicsIHRvZG9MaXN0Q29udHJvbGxlcilcbiAgLmZpbHRlcigndG9kb0xpc3RGaWx0ZXInLCB0b2RvTGlzdEZpbHRlcik7XG5cbmZ1bmN0aW9uIHRvZG9MaXN0Q29udHJvbGxlcih0b2RvcywgJHN0YXRlLCAkc2NvcGUsICRmaWx0ZXIsIFRvZG9TZXJ2aWNlKSB7XG5cbiAgY29uc3QgY250bCA9IHRoaXM7XG5cbiAgdGhpcy50b2RvcyA9IHRvZG9zO1xuICB0aGlzLnNob3dDb21wbGV0ZWQgPSBmYWxzZTtcblxuICB0aGlzLmNsZWFyVG9kb3MgPSBmdW5jdGlvbigpIHtcbiAgICBUb2RvU2VydmljZS5jbGVhcigpO1xuXG4gICAgLy8gYmFjayBvdXQgb2YgYW55IGVkaXRpbmcgd2UgbWlnaHQgYmUgZG9pbmdcbiAgICAkc3RhdGUuZ28oJ3RvZG9zJyk7XG4gIH07XG5cbiAgdGhpcy5lZGl0VG9kbyA9IGZ1bmN0aW9uKHRvZG8pIHtcbiAgICAkc3RhdGUuZ28oJ3RvZG9zLmVkaXQnLCB7IGlkOiB0b2RvLiRpZCB9KTtcbiAgfTtcblxuICB0aGlzLmZpbHRlclRvZG8gPSBmdW5jdGlvbih0b2RvKSB7XG4gICAgcmV0dXJuIGNudGwuc2hvd0NvbXBsZXRlZCB8fCAhdG9kby5jb21wbGV0ZWQ7XG4gIH07XG5cbiAgdGhpcy5pc092ZXJkdWUgPSBmdW5jdGlvbih0b2RvKSB7XG4gICAgaWYgKHRvZG8uZHVlRGF0ZSkge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgZHVlRGF0ZSA9IG5ldyBEYXRlKHRvZG8uZHVlRGF0ZSk7XG4gICAgICByZXR1cm4gbm93ID4gZHVlRGF0ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIFxufVxuXG5mdW5jdGlvbiB0b2RvTGlzdEZpbHRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRvZG9zLCBzaG93Q29tcGxldGVkKSB7XG4gICAgdmFyIGZpbHRlcmVkID0gW107XG5cbiAgICBhbmd1bGFyLmZvckVhY2godG9kb3MsIGZ1bmN0aW9uKHRvZG8pIHtcbiAgICAgIGlmIChzaG93Q29tcGxldGVkIHx8ICF0b2RvLmNvbXBsZXRlZCkge1xuICAgICAgICBmaWx0ZXJlZC5wdXNoKHRvZG8pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9XG59XG59KCkpO1xuXG47KGZ1bmN0aW9uKCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuc2VydmljZXMnKVxuICAuZmFjdG9yeSgnU3RvcmFnZVNlcnZpY2UnLCBzdG9yYWdlU2VydmljZUZhY3RvcnkpO1xuXG5mdW5jdGlvbiBzdG9yYWdlU2VydmljZUZhY3RvcnkoJGxvY2FsU3RvcmFnZSkge1xuICByZXR1cm4gbmV3IFN0b3JhZ2VTZXJ2aWNlKCRsb2NhbFN0b3JhZ2UpO1xufVxuXG4vLyB0aGUgU3RvcmFnZVNlcnZpY2UgY2xhc3MuLi5cblxuZnVuY3Rpb24gU3RvcmFnZVNlcnZpY2Uoc3RvcmFnZSkge1xuICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xufVxuXG5TdG9yYWdlU2VydmljZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLnN0b3JhZ2Vba2V5XTtcbn07XG5cblN0b3JhZ2VTZXJ2aWNlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLnN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xufTtcblxuU3RvcmFnZVNlcnZpY2UucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICBkZWxldGUgdGhpcy5zdG9yYWdlW2tleV07XG59O1xuXG5TdG9yYWdlU2VydmljZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zdG9yYWdlLiRyZXNldCgpO1xufTtcbn0oKSk7XG5cbjsoZnVuY3Rpb24oKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgndG9kb0FwcC5zZXJ2aWNlcycpXG4gIC5mYWN0b3J5KCdUb2RvU2VydmljZScsIHRvZG9TZXJ2aWNlRmFjdG9yeSk7XG5cbmZ1bmN0aW9uIHRvZG9TZXJ2aWNlRmFjdG9yeShTdG9yYWdlU2VydmljZSkge1xuICByZXR1cm4gbmV3IFRvZG9TZXJ2aWNlKFN0b3JhZ2VTZXJ2aWNlKTtcbn1cblxuXG4vLyB0aGUgVG9kb1NlcnZpY2UgY2xhc3MuLi5cblxuZnVuY3Rpb24gVG9kb1NlcnZpY2Uoc3RvcmFnZSkge1xuICB0aGlzLiRzdG9yYWdlID0gc3RvcmFnZTtcblxuICAvLyBpZiBubyB0b2RvcyBoYXZlIGJlZW4gc2V0IHVwIHlldCwgc3RvcmUgYW4gZW1wdHkgYXJyYXlcbiAgaWYgKCF0aGlzLiRnZXRBbGwoKSkge1xuICAgIHRoaXMuJGluaXQoKTtcbiAgfVxufVxuXG5Ub2RvU2VydmljZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24odG9kbykge1xuICB2YXIgYWxsVG9kb3MgPSB0aGlzLiRnZXRBbGwoKTtcblxuICB2YXIgbmV3TGVuZ3RoID0gYWxsVG9kb3MucHVzaCh0b2RvKTsgLy8gYWRkIHRoZSB0b2RvLCByZXR1cm5zIG5ldyBhcnJheSBsZW5ndGhcbiAgdG9kby4kaWQgPSBuZXdMZW5ndGggLSAxOyAvLyB1c2UgdGhlIGluZGV4IGluIHN0b3JhZ2UgYXMgdGhlIGVsZW1lbnQgSURcbn07XG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS5nZXRMaXN0ID0gZnVuY3Rpb24oKSB7XG4gIC8vIHJldHVybiBhbiBlbXB0eSBhcnJheSBpZiBuZXZlciBzdG9yZWRcbiAgcmV0dXJuIHRoaXMuJGdldEFsbCgpO1xufTtcblxuVG9kb1NlcnZpY2UucHJvdG90eXBlLmdldE9uZSA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiB0aGlzLiRnZXRBbGwoKVtpZF07XG59O1xuXG5Ub2RvU2VydmljZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24odG9kbykge1xuICB2YXIgaW5kZXggPSB0b2RvLiRpZDtcbiAgdmFyIGFsbFRvZG9zID0gdGhpcy4kZ2V0QWxsKCk7XG5cbiAgLy8gcmVtb3ZlIHRoZSBUT0RPIGZyb20gdGhlIGFycmF5XG4gIHZhciBkZWxldGVkID0gYWxsVG9kb3Muc3BsaWNlKGluZGV4LCAxKTtcblxuICAvLyBudWxsaWZ5IHRoZSBkZWxldGVkIGVsZW1lbnQncyBJRCAoaW4gY2FzZSBhIHZpZXcgbW9kZWwgc3RpbGwgaGFzIGEgcmVmZXJlbmNlKVxuICBkZWxldGVkWzBdLiRpZCA9IG51bGw7IFxuXG4gIC8vIGRlY3JlbWVudCB0cmFpbGluZyBJRHNcbiAgZm9yICh2YXIgaSA9IGluZGV4OyBpIDwgYWxsVG9kb3MubGVuZ3RoOyBpKyspIHtcbiAgICBhbGxUb2Rvc1tpXS4kaWQtLTtcbiAgICBjb25zb2xlLmxvZygnZGVjcmVtZW50ZWQgdG9kbyBpZDogJyArIGFsbFRvZG9zW2ldLiRpZCk7XG4gIH1cbn07XG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRnZXRBbGwoKS5sZW5ndGggPSAwO1xufTtcblxuLy8gbWV0aG9kcyBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlIChkZW5vdGVkIGJ5ICQgcHJlZml4KVxuXG5Ub2RvU2VydmljZS5wcm90b3R5cGUuJGdldEFsbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy4kc3RvcmFnZS5nZXQoJ3RvZG9zJyk7XG59O1xuXG5Ub2RvU2VydmljZS5wcm90b3R5cGUuJGluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy4kc3RvcmFnZS5zYXZlKCd0b2RvcycsIFtdKTtcbn07XG59KCkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBkZWZpbmUgdGhlIGNvbXBvbmVudHMgbW9kdWxlXG5hbmd1bGFyLm1vZHVsZSgndG9kb0FwcC5jb21wb25lbnRzJywgWyd1aS5ib290c3RyYXAnXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBkZWZpbmUgdGhlIHNlcnZpY2VzIG1vZHVsZVxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuc2VydmljZXMnLCBbJ25nU3RvcmFnZSddKVxuICAuY29uZmlnKG5nU3RvcmFnZUNvbmZpZyk7XG5cbmZ1bmN0aW9uIG5nU3RvcmFnZUNvbmZpZygkbG9jYWxTdG9yYWdlUHJvdmlkZXIpIHtcbiAgLy8gY29uZmlndXJlIGxvY2FsU3RvcmFnZSB0byB1c2UgYSBwcmVmaXggZm9yIHRoaXMgYXBwXG4gICRsb2NhbFN0b3JhZ2VQcm92aWRlci5zZXRLZXlQcmVmaXgoJ3JoVG9kbycpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuY29tcG9uZW50cycpXG4gIC5jb250cm9sbGVyKCdUb2RvRWRpdG9yQ29udHJvbGxlcicsIHRvZG9FZGl0b3JDb250cm9sbGVyKTtcblxuZnVuY3Rpb24gdG9kb0VkaXRvckNvbnRyb2xsZXIodG9kbywgVG9kb1NlcnZpY2UsICRzdGF0ZSkge1xuXG4gIGNvbnN0IGNudGwgPSB0aGlzO1xuXG4gIC8vIGhhbmcgb250byB0aGUgb3JpZ2luYWwgYW5kIGJpbmQgYSBjb3B5IHRvIHNjb3BlXG4gIC8vIHNvIHRoYXQgd2UgY2FuIHJvbGwgYmFjayBjaGFuZ2VzIHdoZW4gZWRpdGluZ1xuICB2YXIgb3JpZyA9IHRvZG87XG4gIHRoaXMudG9kbyA9IGFuZ3VsYXIuY29weSh0b2RvKTsgXG4gIHRoaXMuaXNOZXcgPSAodG9kby4kaWQgPT09IG51bGwpO1xuXG4gIHRoaXMuc2F2ZVRvZG8gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc05ldykge1xuICAgICAgdGhpcy50b2RvLmNyZWF0aW9uRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBUb2RvU2VydmljZS5jcmVhdGUodGhpcy50b2RvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5ndWxhci5leHRlbmQob3JpZywgdGhpcy50b2RvKTtcbiAgICB9XG5cbiAgICAkc3RhdGUuZ28oJ3RvZG9zJyk7XG4gIH07XG5cbiAgdGhpcy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAkc3RhdGUuZ28oJ3RvZG9zJyk7XG4gIH07XG5cbiAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaXNOZXcpIHtcbiAgICAgIFRvZG9TZXJ2aWNlLnJlbW92ZSh0aGlzLnRvZG8pO1xuICAgIH1cbiAgICAkc3RhdGUuZ28oJ3RvZG9zJyk7XG4gIH07XG5cbiAgdGhpcy5vcGVuRGF0ZVBpY2tlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGF0ZVBpY2tlck9wZW4gPSB0cnVlO1xuICB9O1xuICBcblxufSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuY29tcG9uZW50cycpXG4gIC5jb250cm9sbGVyKCdUb2RvTGlzdENvbnRyb2xsZXInLCB0b2RvTGlzdENvbnRyb2xsZXIpXG4gIC5maWx0ZXIoJ3RvZG9MaXN0RmlsdGVyJywgdG9kb0xpc3RGaWx0ZXIpO1xuXG5mdW5jdGlvbiB0b2RvTGlzdENvbnRyb2xsZXIodG9kb3MsICRzdGF0ZSwgJHNjb3BlLCAkZmlsdGVyLCBUb2RvU2VydmljZSkge1xuXG4gIGNvbnN0IGNudGwgPSB0aGlzO1xuXG4gIHRoaXMudG9kb3MgPSB0b2RvcztcbiAgdGhpcy5zaG93Q29tcGxldGVkID0gZmFsc2U7XG5cbiAgdGhpcy5jbGVhclRvZG9zID0gZnVuY3Rpb24oKSB7XG4gICAgVG9kb1NlcnZpY2UuY2xlYXIoKTtcblxuICAgIC8vIGJhY2sgb3V0IG9mIGFueSBlZGl0aW5nIHdlIG1pZ2h0IGJlIGRvaW5nXG4gICAgJHN0YXRlLmdvKCd0b2RvcycpO1xuICB9O1xuXG4gIHRoaXMuZWRpdFRvZG8gPSBmdW5jdGlvbih0b2RvKSB7XG4gICAgJHN0YXRlLmdvKCd0b2Rvcy5lZGl0JywgeyBpZDogdG9kby4kaWQgfSk7XG4gIH07XG5cbiAgdGhpcy5maWx0ZXJUb2RvID0gZnVuY3Rpb24odG9kbykge1xuICAgIHJldHVybiBjbnRsLnNob3dDb21wbGV0ZWQgfHwgIXRvZG8uY29tcGxldGVkO1xuICB9O1xuXG4gIHRoaXMuaXNPdmVyZHVlID0gZnVuY3Rpb24odG9kbykge1xuICAgIGlmICh0b2RvLmR1ZURhdGUpIHtcbiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIGR1ZURhdGUgPSBuZXcgRGF0ZSh0b2RvLmR1ZURhdGUpO1xuICAgICAgcmV0dXJuIG5vdyA+IGR1ZURhdGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBcbn1cblxuZnVuY3Rpb24gdG9kb0xpc3RGaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbih0b2Rvcywgc2hvd0NvbXBsZXRlZCkge1xuICAgIHZhciBmaWx0ZXJlZCA9IFtdO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKHRvZG9zLCBmdW5jdGlvbih0b2RvKSB7XG4gICAgICBpZiAoc2hvd0NvbXBsZXRlZCB8fCAhdG9kby5jb21wbGV0ZWQpIHtcbiAgICAgICAgZmlsdGVyZWQucHVzaCh0b2RvKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfVxufSIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ3RvZG9BcHAuc2VydmljZXMnKVxuICAuZmFjdG9yeSgnU3RvcmFnZVNlcnZpY2UnLCBzdG9yYWdlU2VydmljZUZhY3RvcnkpO1xuXG5mdW5jdGlvbiBzdG9yYWdlU2VydmljZUZhY3RvcnkoJGxvY2FsU3RvcmFnZSkge1xuICByZXR1cm4gbmV3IFN0b3JhZ2VTZXJ2aWNlKCRsb2NhbFN0b3JhZ2UpO1xufVxuXG4vLyB0aGUgU3RvcmFnZVNlcnZpY2UgY2xhc3MuLi5cblxuZnVuY3Rpb24gU3RvcmFnZVNlcnZpY2Uoc3RvcmFnZSkge1xuICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xufVxuXG5TdG9yYWdlU2VydmljZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLnN0b3JhZ2Vba2V5XTtcbn07XG5cblN0b3JhZ2VTZXJ2aWNlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLnN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xufTtcblxuU3RvcmFnZVNlcnZpY2UucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICBkZWxldGUgdGhpcy5zdG9yYWdlW2tleV07XG59O1xuXG5TdG9yYWdlU2VydmljZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zdG9yYWdlLiRyZXNldCgpO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCd0b2RvQXBwLnNlcnZpY2VzJylcbiAgLmZhY3RvcnkoJ1RvZG9TZXJ2aWNlJywgdG9kb1NlcnZpY2VGYWN0b3J5KTtcblxuZnVuY3Rpb24gdG9kb1NlcnZpY2VGYWN0b3J5KFN0b3JhZ2VTZXJ2aWNlKSB7XG4gIHJldHVybiBuZXcgVG9kb1NlcnZpY2UoU3RvcmFnZVNlcnZpY2UpO1xufVxuXG5cbi8vIHRoZSBUb2RvU2VydmljZSBjbGFzcy4uLlxuXG5mdW5jdGlvbiBUb2RvU2VydmljZShzdG9yYWdlKSB7XG4gIHRoaXMuJHN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gIC8vIGlmIG5vIHRvZG9zIGhhdmUgYmVlbiBzZXQgdXAgeWV0LCBzdG9yZSBhbiBlbXB0eSBhcnJheVxuICBpZiAoIXRoaXMuJGdldEFsbCgpKSB7XG4gICAgdGhpcy4kaW5pdCgpO1xuICB9XG59XG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbih0b2RvKSB7XG4gIHZhciBhbGxUb2RvcyA9IHRoaXMuJGdldEFsbCgpO1xuXG4gIHZhciBuZXdMZW5ndGggPSBhbGxUb2Rvcy5wdXNoKHRvZG8pOyAvLyBhZGQgdGhlIHRvZG8sIHJldHVybnMgbmV3IGFycmF5IGxlbmd0aFxuICB0b2RvLiRpZCA9IG5ld0xlbmd0aCAtIDE7IC8vIHVzZSB0aGUgaW5kZXggaW4gc3RvcmFnZSBhcyB0aGUgZWxlbWVudCBJRFxufTtcblxuVG9kb1NlcnZpY2UucHJvdG90eXBlLmdldExpc3QgPSBmdW5jdGlvbigpIHtcbiAgLy8gcmV0dXJuIGFuIGVtcHR5IGFycmF5IGlmIG5ldmVyIHN0b3JlZFxuICByZXR1cm4gdGhpcy4kZ2V0QWxsKCk7XG59O1xuXG5Ub2RvU2VydmljZS5wcm90b3R5cGUuZ2V0T25lID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIHRoaXMuJGdldEFsbCgpW2lkXTtcbn07XG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih0b2RvKSB7XG4gIHZhciBpbmRleCA9IHRvZG8uJGlkO1xuICB2YXIgYWxsVG9kb3MgPSB0aGlzLiRnZXRBbGwoKTtcblxuICAvLyByZW1vdmUgdGhlIFRPRE8gZnJvbSB0aGUgYXJyYXlcbiAgdmFyIGRlbGV0ZWQgPSBhbGxUb2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gIC8vIG51bGxpZnkgdGhlIGRlbGV0ZWQgZWxlbWVudCdzIElEIChpbiBjYXNlIGEgdmlldyBtb2RlbCBzdGlsbCBoYXMgYSByZWZlcmVuY2UpXG4gIGRlbGV0ZWRbMF0uJGlkID0gbnVsbDsgXG5cbiAgLy8gZGVjcmVtZW50IHRyYWlsaW5nIElEc1xuICBmb3IgKHZhciBpID0gaW5kZXg7IGkgPCBhbGxUb2Rvcy5sZW5ndGg7IGkrKykge1xuICAgIGFsbFRvZG9zW2ldLiRpZC0tO1xuICAgIGNvbnNvbGUubG9nKCdkZWNyZW1lbnRlZCB0b2RvIGlkOiAnICsgYWxsVG9kb3NbaV0uJGlkKTtcbiAgfVxufTtcblxuVG9kb1NlcnZpY2UucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldEFsbCgpLmxlbmd0aCA9IDA7XG59O1xuXG4vLyBtZXRob2RzIGludGVuZGVkIGZvciBpbnRlcm5hbCB1c2UgKGRlbm90ZWQgYnkgJCBwcmVmaXgpXG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS4kZ2V0QWxsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLiRzdG9yYWdlLmdldCgndG9kb3MnKTtcbn07XG5cblRvZG9TZXJ2aWNlLnByb3RvdHlwZS4kaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLiRzdG9yYWdlLnNhdmUoJ3RvZG9zJywgW10pO1xufTsiXX0=
